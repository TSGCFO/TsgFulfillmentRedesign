import{c as ie,r as p,j as e,L as ne,B as y}from"./index-6MCi8tWB.js";import{u as oe}from"./useQuery-PVc7J4dA.js";import{D as K,C as q,T as ce,a as le,b as h,c as u}from"./tabs-ATvcvegK.js";import{C as v}from"./card-D6qM5tgO.js";import{A as de}from"./skeletons-Bea5Jzmq.js";import{S as U,a as Y,b as _,c as V,d as X,C as me}from"./select-CCPcufPO.js";import{N as pe,O as Q,A as W,f as Z,R as ye,B as he,C as ue,X as xe,Y as ge,T as fe,L as je,g as H}from"./Layout-CO47tnHT.js";import{S as J}from"./Seo-CcCYkcZM.js";import{T as ve}from"./trending-up-BYYmFHKz.js";import{F as ke}from"./file-text-CHbVSDXi.js";import{C as Se}from"./index-D6Ojy0Bj.js";import"./Logo-BSuye5hi.js";import"./input-BhXA57Mw.js";import"./house-BlQUh3Kr.js";import"./chart-column-D_eQg_3d.js";import"./package-DUgOWvPU.js";import"./truck-B8mTXWv6.js";import"./clock-B1r4y18s.js";/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const be=ie("Share2",[["circle",{cx:"18",cy:"5",r:"3",key:"gq8acd"}],["circle",{cx:"6",cy:"12",r:"3",key:"w7nqdw"}],["circle",{cx:"18",cy:"19",r:"3",key:"1xt0gg"}],["line",{x1:"8.59",x2:"15.42",y1:"13.51",y2:"17.49",key:"47mynk"}],["line",{x1:"15.41",x2:"8.59",y1:"6.51",y2:"10.49",key:"1n3mei"}]]);function Ne(i,n){const s=pe(i);if(isNaN(n))return Q(i,NaN);if(!n)return s;const r=s.getDate(),l=Q(i,s.getTime());l.setMonth(s.getMonth()+n+1,0);const g=l.getDate();return r>=g?l:(s.setFullYear(l.getFullYear(),l.getMonth(),r),s)}function f(i,n){return Ne(i,-n)}const m={secondary:"#28A745",quaternary:"#DC3545",periodA:"#0056B3",periodB:"#28A745"},we=[{id:1,name:"ABC Corporation"},{id:2,name:"XYZ Inc."},{id:3,name:"Global Enterprises"},{id:4,name:"Tech Solutions"},{id:5,name:"E-commerce Giant"}],ee=[{key:"totalShipments",name:"Total Shipments",category:"shipment"},{key:"onTimeDelivery",name:"On-Time Delivery",category:"shipment"},{key:"shippingAccuracy",name:"Shipping Accuracy",category:"shipment"},{key:"stockTurnover",name:"Stock Turnover Rate",category:"inventory"},{key:"inventoryAccuracy",name:"Inventory Accuracy",category:"inventory"},{key:"lowStockOccurrences",name:"Low Stock Occurrences",category:"inventory"},{key:"totalOrders",name:"Total Orders",category:"order"},{key:"fulfillmentRate",name:"Fulfillment Rate",category:"order"},{key:"processingTime",name:"Processing Time",category:"order"},{key:"returnRate",name:"Return Rate",category:"order"}],j=({title:i,metrics:n,category:s})=>e.jsxs(v,{className:"p-6 shadow-md",children:[e.jsx("h3",{className:"text-xl font-semibold mb-4",children:i}),e.jsx("div",{className:"space-y-4",children:n.filter(r=>r.key===s||!s).map(r=>e.jsxs("div",{className:"grid grid-cols-3 md:grid-cols-6 gap-2 items-center border-b pb-3",children:[e.jsx("div",{className:"col-span-3 md:col-span-2 font-medium",children:r.name}),e.jsxs("div",{className:"text-gray-700 text-center",children:[r.periodA.toLocaleString(),r.unit?r.unit:""]}),e.jsxs("div",{className:"text-gray-700 text-center",children:[r.periodB.toLocaleString(),r.unit?r.unit:""]}),e.jsxs("div",{className:`text-center font-medium ${r.trend==="up"?"text-green-600":"text-red-600"}`,children:[r.change>0?"+":"",r.change.toLocaleString(),r.unit?r.unit:""]}),e.jsx("div",{className:"flex items-center justify-center",children:e.jsxs("span",{className:`px-2 py-1 rounded text-xs font-semibold flex items-center ${r.trend==="up"?r.key==="lowStockOccurrences"||r.key==="returnRate"||r.key==="processingTime"?"bg-red-100 text-red-800":"bg-green-100 text-green-800":r.key==="lowStockOccurrences"||r.key==="returnRate"||r.key==="processingTime"?"bg-green-100 text-green-800":"bg-red-100 text-red-800"}`,children:[r.changePercentage>=0?"+":"",r.changePercentage.toFixed(1),"%",r.trend==="up"?e.jsx(me,{size:14,className:"ml-1"}):e.jsx(Se,{size:14,className:"ml-1"})]})})]},r.key))})]}),x=({data:i,dataKey:n,title:s})=>e.jsxs(v,{className:"p-6 shadow-md",children:[e.jsx("h3",{className:"text-xl font-semibold mb-4",children:s}),e.jsx("div",{className:"h-80",children:e.jsx(ye,{width:"100%",height:"100%",children:e.jsxs(he,{data:i,margin:{top:20,right:30,left:20,bottom:20},children:[e.jsx(ue,{strokeDasharray:"3 3"}),e.jsx(xe,{dataKey:"date",tickFormatter:r=>r}),e.jsx(ge,{}),e.jsx(fe,{formatter:r=>[typeof r=="number"?r.toFixed(1):r,n]}),e.jsx(je,{}),e.jsx(H,{name:"Period A",dataKey:"periodA",fill:m.periodA,radius:[4,4,0,0]}),e.jsx(H,{name:"Period B",dataKey:"periodB",fill:m.periodB,radius:[4,4,0,0]})]})})})]}),Ce=({summary:i,index:n})=>e.jsxs(v,{className:"p-6 shadow-md",children:[e.jsx("h3",{className:"text-lg font-semibold mb-2",children:i.title}),e.jsx("div",{className:"space-y-3",children:i.metrics.map(s=>e.jsxs("div",{className:"grid grid-cols-12 items-center",children:[e.jsx("div",{className:"col-span-4 text-sm font-medium",children:s.name}),e.jsxs("div",{className:"col-span-8",children:[e.jsxs("div",{className:"flex items-center justify-between mb-1",children:[e.jsxs("span",{className:"text-sm font-medium",children:[s.changePercentage>=0?"+":"",s.changePercentage.toFixed(1),"%"]}),e.jsxs("span",{className:`text-xs ${s.trend==="up"?s.key==="lowStockOccurrences"||s.key==="returnRate"||s.key==="processingTime"?"text-red-600":"text-green-600":s.key==="lowStockOccurrences"||s.key==="returnRate"||s.key==="processingTime"?"text-green-600":"text-red-600"}`,children:[s.periodA," â†’ ",s.periodB,s.unit||""]})]}),e.jsx("div",{className:"h-2 w-full bg-gray-200 rounded-full overflow-hidden",children:e.jsx("div",{className:"h-full rounded-full",style:{width:`${Math.min(Math.abs(s.changePercentage)*2,100)}%`,backgroundColor:s.trend==="up"?s.key==="lowStockOccurrences"||s.key==="returnRate"||s.key==="processingTime"?m.quaternary:m.secondary:s.key==="lowStockOccurrences"||s.key==="returnRate"||s.key==="processingTime"?m.secondary:m.quaternary}})})]})]},s.key))})]}),Ye=()=>{var N,w,C,T,A,M,O,P,B,I,R,L,F;const[i,n]=p.useState(1),[s,r]=p.useState("totalShipments"),[l,g]=p.useState("overview"),[o,se]=p.useState([f(new Date,2),f(new Date,1)]),[c,te]=p.useState([f(new Date,1),new Date]),{data:a,isLoading:k}=oe({queryKey:["/api/analytics/comparison",i,o,c,s],enabled:!!i&&!!o[0]&&!!o[1]&&!!c[0]&&!!c[1],queryFn:async()=>{var D,E,z,G;const t=(D=o[0])==null?void 0:D.toISOString(),d=(E=o[1])==null?void 0:E.toISOString(),re=(z=c[0])==null?void 0:z.toISOString(),ae=(G=c[1])==null?void 0:G.toISOString(),$=await fetch(`/api/analytics/comparison?clientId=${i}&periodAStart=${t}&periodAEnd=${d}&periodBStart=${re}&periodBEnd=${ae}&metric=${s}`);if(!$.ok)throw new Error("Failed to fetch comparison data");return $.json()}}),S=(t,d)=>!t||!d?"Select dates":`${Z(t,"MMM d, yyyy")} - ${Z(d,"MMM d, yyyy")}`,b={"@context":"https://schema.org","@type":"SoftwareApplication",name:"TSG Fulfillment Performance Comparison Tool",applicationCategory:"BusinessApplication",operatingSystem:"Web Browser",description:"Advanced analytics tool for comparing logistics and fulfillment performance metrics across different time periods to identify trends and optimize operations.",offers:{"@type":"Offer",price:"0",priceCurrency:"USD"},audience:{"@type":"BusinessAudience",audienceType:"Supply Chain and Logistics Managers"}};return k?e.jsxs(W,{title:"Performance Comparison",children:[e.jsx(J,{title:"Logistics Performance Comparison | TSG Fulfillment",description:"Compare logistics performance metrics across different time periods. Track improvements, identify trends, and optimize your supply chain operations with advanced analytics.",keywords:"logistics comparison, fulfillment metrics, performance tracking, supply chain analytics, logistics benchmarking, shipping metrics, inventory comparison",canonical:"https://tsgfulfillment.com/analytics/performance-comparison",ogType:"website",ogUrl:"https://tsgfulfillment.com/analytics/performance-comparison",ogImage:"https://tsgfulfillment.com/images/analytics-performance.jpg",twitterCard:"summary_large_image",twitterTitle:"Logistics Performance Comparison | TSG Fulfillment",twitterDescription:"Track your logistics performance improvements over time with our advanced comparison tools.",structuredData:b}),e.jsx(de,{})]}):e.jsxs(W,{title:"Performance Comparison",children:[e.jsx(J,{title:"Logistics Performance Comparison | TSG Fulfillment",description:"Compare logistics performance metrics across different time periods. Track improvements, identify trends, and optimize your supply chain operations with advanced analytics.",keywords:"logistics comparison, fulfillment metrics, performance tracking, supply chain analytics, logistics benchmarking, shipping metrics, inventory comparison",canonical:"https://tsgfulfillment.com/analytics/performance-comparison",ogType:"website",ogUrl:"https://tsgfulfillment.com/analytics/performance-comparison",ogImage:"https://tsgfulfillment.com/images/analytics-performance.jpg",twitterCard:"summary_large_image",twitterTitle:"Logistics Performance Comparison | TSG Fulfillment",twitterDescription:"Track your logistics performance improvements over time with our advanced comparison tools.",structuredData:b}),e.jsxs("div",{className:"p-6 max-w-7xl mx-auto",children:[e.jsx("header",{className:"mb-8",children:e.jsxs("div",{className:"flex justify-between items-start",children:[e.jsxs("div",{children:[e.jsx("h1",{className:"text-3xl font-bold mb-2",children:"Performance Comparison"}),e.jsx("p",{className:"text-gray-600",children:"Compare key metrics between different time periods"}),e.jsxs("div",{className:"mt-4 text-sm text-gray-500",children:[e.jsx("p",{children:"Our performance comparison tool helps you track improvements, identify trends, and optimize your logistics operations over time. Compare key metrics like shipping accuracy, inventory turnover, order fulfillment rates, and processing times across different periods to make data-driven decisions."}),e.jsx("p",{className:"mt-2",children:"Identify seasonal patterns, measure the impact of operational changes, and demonstrate ROI with clear visual comparisons and detailed analytical reports."})]})]}),e.jsxs("div",{className:"flex space-x-2",children:[e.jsx(ne,{href:"/analytics",children:e.jsxs(y,{variant:"outline",size:"sm",children:[e.jsx(ve,{className:"mr-2 h-4 w-4"}),"Back to Analytics"]})}),e.jsxs(y,{variant:"outline",size:"sm",children:[e.jsx(ke,{className:"mr-2 h-4 w-4"}),"Export Report"]}),e.jsxs(y,{variant:"outline",size:"sm",children:[e.jsx(be,{className:"mr-2 h-4 w-4"}),"Share"]})]})]})}),e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-4 mb-6",children:[e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Client"}),e.jsxs(U,{value:i.toString(),onValueChange:t=>n(parseInt(t)),children:[e.jsx(Y,{children:e.jsx(_,{placeholder:"Select Client"})}),e.jsx(V,{children:we.map(t=>e.jsx(X,{value:t.id.toString(),children:t.name},t.id))})]})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Metric"}),e.jsxs(U,{value:s,onValueChange:r,children:[e.jsx(Y,{children:e.jsx(_,{placeholder:"Select Metric"})}),e.jsx(V,{children:ee.map(t=>e.jsx(X,{value:t.key,children:t.name},t.key))})]})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Period A"}),e.jsx(K,{selectsRange:!0,startDate:o[0],endDate:o[1],onChange:t=>se(t),className:"p-2 border rounded w-full",customInput:e.jsxs(y,{variant:"outline",className:"w-full justify-start",children:[e.jsx(q,{className:"h-4 w-4 mr-2"}),S(o[0],o[1])]})})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Period B"}),e.jsx(K,{selectsRange:!0,startDate:c[0],endDate:c[1],onChange:t=>te(t),className:"p-2 border rounded w-full",customInput:e.jsxs(y,{variant:"outline",className:"w-full justify-start",children:[e.jsx(q,{className:"h-4 w-4 mr-2"}),S(c[0],c[1])]})})]})]}),k?e.jsx("div",{className:"flex justify-center items-center h-64",children:e.jsx("div",{className:"animate-spin rounded-full h-12 w-12 border-b-2 border-primary"})}):e.jsx(e.Fragment,{children:e.jsxs(ce,{value:l,onValueChange:g,className:"mb-6",children:[e.jsxs(le,{className:"grid grid-cols-4 md:w-[400px]",children:[e.jsx(h,{value:"overview",children:"Overview"}),e.jsx(h,{value:"shipment",children:"Shipment"}),e.jsx(h,{value:"inventory",children:"Inventory"}),e.jsx(h,{value:"orders",children:"Orders"})]}),e.jsxs(u,{value:"overview",className:"space-y-6",children:[e.jsx("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-6",children:(N=a==null?void 0:a.data)==null?void 0:N.summaries.map((t,d)=>e.jsx(Ce,{summary:t,index:d},d))}),e.jsx(x,{data:((C=(w=a==null?void 0:a.data)==null?void 0:w.charts)==null?void 0:C.dailyMetrics)||[],dataKey:s,title:`Daily ${((T=ee.find(t=>t.key===s))==null?void 0:T.name)||"Metric"} Comparison`})]}),e.jsxs(u,{value:"shipment",className:"space-y-6",children:[(A=a==null?void 0:a.data)==null?void 0:A.summaries.filter(t=>t.title==="Shipment Performance").map(t=>e.jsx(j,{title:t.title,metrics:t.metrics,category:"shipment"},t.title)),e.jsx(x,{data:((O=(M=a==null?void 0:a.data)==null?void 0:M.charts)==null?void 0:O.dailyMetrics)||[],dataKey:s,title:"Shipment Performance Comparison"})]}),e.jsxs(u,{value:"inventory",className:"space-y-6",children:[(P=a==null?void 0:a.data)==null?void 0:P.summaries.filter(t=>t.title==="Inventory Management").map(t=>e.jsx(j,{title:t.title,metrics:t.metrics,category:"inventory"},t.title)),e.jsx(x,{data:((I=(B=a==null?void 0:a.data)==null?void 0:B.charts)==null?void 0:I.dailyMetrics)||[],dataKey:s,title:"Inventory Management Comparison"})]}),e.jsxs(u,{value:"orders",className:"space-y-6",children:[(R=a==null?void 0:a.data)==null?void 0:R.summaries.filter(t=>t.title==="Order Processing").map(t=>e.jsx(j,{title:t.title,metrics:t.metrics,category:"order"},t.title)),e.jsx(x,{data:((F=(L=a==null?void 0:a.data)==null?void 0:L.charts)==null?void 0:F.dailyMetrics)||[],dataKey:s,title:"Order Processing Comparison"})]})]})})]})]})};export{Ye as default};
